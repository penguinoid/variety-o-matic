<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
    <title>Variety-o-Matic</title>
    <style>
        h1 {
            font-family: Arial, sans-serif;
            font-size: 50px;
        }

        h2 {
            font-family: Arial, sans-serif;
            font-size: 20px;
            text-align: center;
        }

        p {
            font-family: Arial, sans-serif;
            font-size: 16px;
        }

        div.grid-item {
            width: 20%;
        }

        div.filter {
            position: relative;
            width: 200px;
            border: 2px solid black;
            margin: 2px;
            padding: 3px;
            text-align: center;
        }

        div.variety {
            position: relative;
            min-height: 500px;
            width: 200px;
            border: 2px solid black;
            margin: 2px;
            padding: 3px;
        }
        button.selected {
            border-color: #00ff00;
            color: #00FF00;
            background-color: black;
        }

        button.filter {
            margin: 2px;
        }
    </style>
    <script type="application/json" id="filterData">
        [{"Group":"Lines by centre hole","Filters":[{"Code":"2-lines-left","DisplayName":"2 lines left"},{"Code":"3-lines-left","DisplayName":"3 lines left"},{"Code":"4-lines-left","DisplayName":"4 lines left"},{"Code":"2-lines-right","DisplayName":"2 lines right"},{"Code":"3-lines-right","DisplayName":"3 lines right"},{"Code":"4-lines-right","DisplayName":"4 lines right"}]},{"Group":"Lettering style","Filters":[{"Code":"hand-lettered","DisplayName":"hand-lettered"},{"Code":"typeset","DisplayName":"typeset"}]},{"Group":"Reel number position","Filters":[{"Code":"reel-number-at-top","DisplayName":"reel number at top"},{"Code":"reel-number-at-bottom","DisplayName":"reel number at bottom"}]},{"Group":"Company and location","Filters":[{"Code":"sawyers","DisplayName":"Swayers"},{"Code":"sawyers-inc","DisplayName":"Sawyers Inc"},{"Code":"sawyers-italics","DisplayName":"Sawyers in italics"},{"Code":"gaf","DisplayName":"gaf"},{"Code":"gaf-corporation","DisplayName":"gaf Corporation"},{"Code":"portland-ore","DisplayName":"Portland Ore"},{"Code":"portland-7-oregon","DisplayName":"Portland 7 Oregon"},{"Code":"portland-oregon","DisplayName":"Portland Oregon"},{"Code":"usa","DisplayName":"USA"}]},{"Group":"Made in...","Filters":[{"Code":"made-in-usa","DisplayName":"made in USA"},{"Code":"made-in-belgium","DisplayName":"made in Belgium"},{"Code":"made-in-australia","DisplayName":"made in Australia"},{"Code":"made-in-france","DisplayName":"made in France"},{"Code":"made-in-india","DisplayName":"made in India"}]},{"Group":"View-Master","Filters":[{"Code":"view-master-reel","DisplayName":"View-Master Reel"},{"Code":"view-master-stereo-reel","DisplayName":"View-Master Stereo Reel"},{"Code":"3d-view-master-logo","DisplayName":"3D View-Master logo"}]},{"Group":"Date and copyright","Filters":[{"Code":"no-date","DisplayName":"no date"},{"Code":"date","DisplayName":"date"},{"Code":"multiple-dates","DisplayName":"multiple dates"},{"Code":"date-roman","DisplayName":"date in roman numerals"},{"Code":"copyright-symbol","DisplayName":"©"},{"Code":"copyright-text","DisplayName":"copyright"},{"Code":"by-line","DisplayName":"by line"},{"Code":"all-rights-reserved","DisplayName":"all rights reserved"},{"Code":"reserved","DisplayName":"reserved"},{"Code":"company-name","DisplayName":"company name"}]},{"Group":"Reel type","Filters":[{"Code":"preview-reel","DisplayName":"preview reel"},{"Code":"study-reel","DisplayName":"study reel"},{"Code":"test-reel","DisplayName":"test reel"},{"Code":"proof-reel","DisplayName":"proof reel"},{"Code":"personal-reel","DisplayName":"personal reel"}]},{"Group":"Misc","Filters":[{"Code":"non-stereo","DisplayName":"non stereo"},{"Code":"up-for-viewer","DisplayName":"up for viewer"},{"Code":"heptagon","DisplayName":"heptagon"}]}]
    </script>
    <script type="application/json" id="varietyData">
        [{"Name":"1 PAF","Tags":"hand-lettered,sawyers,portland-ore,made-in-usa,reel-number-at-top,no-date","Description":"Easy to recognize. The only circular printed variety. Common on older reels. The only variety on 'Gold foil' reel styles. There is a small difference between 2 circular printed varieties. This is the early variety with 'PAT. APPLIED FOR'. Common","Image":"type1paf.jpg"},{"Name":"1 P","Tags":"hand-lettered,sawyers,portland-ore,made-in-usa,reel-number-at-top,no-date","Description":"Easy to recognize. The only circular printed variety. Common on older reels. The only variety on 'Gold foil' reel styles. There is a small difference between 2 circular printed varieties. This is the later variety with 'PATENTED' beneath the center hole. Common","Image":"type1.jpg"},{"Name":"2","Tags":"hand-lettered,sawyers,portland-ore,made-in-usa,reel-number-at-top,sawyers-italics,2-lines-left,3-lines-right,no-date","Description":"'Sawyers' in italics left from center. 'REEL NO.' printed above reel number on top. Three lines right from center. Fairly common","Image":"type2.jpg"},{"Name":"3","Tags":"hand-lettered,sawyers,portland-ore,made-in-usa,reel-number-at-top,2-lines-left,4-lines-right,no-date","Description":"'Sawyer's' in normal print left from center. 'REEL NO' printed above reel number on top. Four lines right from center. Common","Image":"type3.jpg"},{"Name":"4","Tags":"hand-lettered,sawyers,portland-ore,made-in-usa,reel-number-at-top,2-lines-left,4-lines-right,no-date","Description":"'Sawyer's' in normal print left from center. 'NO.' printed left from reel number. Reel number within the reel title on top right. Scarce","Image":"type4.jpg"},{"Name":"5","Tags":"hand-lettered,sawyers,portland-ore,made-in-usa,reel-number-at-top,study-reel,no-date","Description":"'SAWYER'S PORTLAND, ORE.' on top of center. Variety issued by the U.S. government. Rare","Image":"type5.jpg"},{"Name":"9","Tags":"hand-lettered,sawyers,portland-ore,made-in-usa,reel-number-at-top,2-lines-left,4-lines-right,no-date","Description":"Two lines left of the center. Number in the middle on top of center.  Common","Image":"type9.jpg"},{"Name":"10","Tags":"hand-lettered,sawyers,made-in-usa,reel-number-at-top,4-lines-right,portland-oregon,3-lines-left,no-date","Description":"Three lines left of the center. Second line not indented reads 'PORTLAND, OREGON' Line three indented. Rare","Image":"type10.jpg"},{"Name":"11","Tags":"hand-lettered,sawyers,made-in-usa,reel-number-at-top,4-lines-right,3-lines-left,portland-ore,no-date","Description":"Three lines left of the center. Line two and three indented. 'NO.' before reel number in the middle on top.   Less common","Image":"type11.jpg"},{"Name":"12","Tags":"hand-lettered,sawyers,made-in-usa,reel-number-at-top,4-lines-right,3-lines-left,portland-ore,no-date","Description":"Three lines left of the center. Line two and three indented. Similar to variety 11 but no 'NO.' preceding the reel number. Fairly common","Image":"type12.jpg"},{"Name":"13","Tags":"hand-lettered,sawyers,made-in-usa,reel-number-at-top,4-lines-right,3-lines-left,portland-ore,copyright-symbol,sawyers-italics,date","Description":"Similar to variety 12. '© Sawyer's' and copyright year at bottom First variety with a copyright year. Less common","Image":"type13.jpg"},{"Name":"14","Tags":"hand-lettered,sawyers,made-in-usa,reel-number-at-top,4-lines-right,3-lines-left,portland-ore,no-date","Description":"Three lines left of the center. All three are left aligned. Common","Image":"type14.jpg"},{"Name":"15","Tags":"hand-lettered,sawyers,made-in-usa,reel-number-at-top,4-lines-right,3-lines-left,portland-ore,no-date,copyright-symbol","Description":"Similar to variety 14 with '© Sawyers' bottom Scarce","Image":"type15.jpg"},{"Name":"16","Tags":"hand-lettered,sawyers,made-in-usa,reel-number-at-top,4-lines-right,3-lines-left,portland-ore,copyright-symbol,sawyers-italics,date","Description":"Similar to variety 14 with '© Sawyer's' and copyright year in script at bottom Scarce","Image":"type16.jpg"},{"Name":"17","Tags":"hand-lettered,made-in-usa,reel-number-at-top,4-lines-right,3-lines-left,portland-ore,copyright-symbol,sawyers-italics,date,sawyers-inc","Description":"Similar to variety 14 with '© Sawyer's Inc.' and copyright year in script at bottom Scarce","Image":"type17.jpg"},{"Name":"18","Tags":"hand-lettered,made-in-usa,reel-number-at-top,4-lines-right,3-lines-left,portland-ore,no-date,sawyers-inc","Description":"Similar to variety 12 Three lines left of the center. Line two and three indented. On first line 'Sawyer's Inc.' Scarce","Image":"type18.jpg"},{"Name":"19","Tags":"made-in-usa,reel-number-at-top,4-lines-right,3-lines-left,portland-ore,no-date,sawyers-inc,typeset","Description":"Three lines left of the center. On first line 'Sawyer's Inc.' Line two and three indented. First typeset variety. Common","Image":"type19.jpg"},{"Name":"20","Tags":"made-in-usa,reel-number-at-top,4-lines-right,3-lines-left,portland-ore,sawyers-inc,date,typeset","Description":"Similar to variety 19 Copyright year at bottom  Less common","Image":"type20.jpg"}]
    </script>
</head>
<body>

    <h1>Variety-o-Matic</h1>

    <div id="filters" class="grid"></div>

    <div id="varieties" class="grid"></div>

</body>
</html>

<script type="text/javascript">

    BuildFilters();
    BuildVarieties();
    $('.grid').masonry({
        itemSelector: '.grid-item',
        columnWidth: 20
    });

    var filters = [];

    function ApplyFilter(tag) {
        if ($("#" + tag).hasClass('selected')) {
            $("#" + tag).removeClass('selected');
            filters.splice($.inArray(tag, filters), 1);
        } else {
            $("#" + tag).addClass('selected');
            filters.push(tag);
        }

        $('div.variety').each(function() {
            var show = true;
            var tags = $(this).attr('tags').split(',');
            filters.forEach(filter => {
                if (!tags.includes(filter)) {
                    show = false;
                    return false;
                }
            });

            if (show) {
                $(this).show();
            } else {
                $(this).hide();
            }
        });

        $('.grid').masonry('layout');
    }

    function BuildFilters() {
        var data = JSON.parse(document.getElementById('filterData').innerHTML);
        data.forEach(group => {
            var div = $('<div class="grid-item filter">');
            div.append('<h2>' + group.Group + '</h2>');
            group.Filters.forEach(filter => {
                div.append('<button id="' + filter.Code + '" class="filter" onclick="ApplyFilter(\'' + filter.Code + '\')">' + filter.DisplayName + '</button>');
            });
            $('#filters').append(div);
        });
    }

    function BuildVarieties() {
        var data = JSON.parse(document.getElementById('varietyData').innerHTML);
        data.forEach(variety => {
            var varietyHtml = VarietyHtml(variety);
            $('#varieties').append(varietyHtml);
        });
    }

    function VarietyHtml(variety) {
        var template =
            '<div class="grid-item variety" tags="_TAGS_">' +
                '<img src="img/_IMAGE_" />' +
                '<h2>Variety _NAME_</h2>' +
                '<p>_DESCRIPTION_</p> ' +
                '</div>';

        return template.replace('_TAGS_', variety.Tags)
            .replace('_NAME_', variety.Name)
            .replace('_IMAGE_', variety.Image)
            .replace('_DESCRIPTION_', variety.Description);
    }

</script>



